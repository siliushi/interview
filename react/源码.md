react源码   React源码深度解析：从理念到架构，从架构到实现，从实现到具体代码。
https://react.iamkasong.com/
https://pomb.us/build-your-own-react/



setTimeout 延迟加载 （使用不当可能适得其反）
web worker 多线程 （不能操作dom，主要计算密集型的任务）
requestIdleCallback 帧空闲时运行 （react18带🔥的，低优先级任务）
requestAnimationFrame 每帧都会运行 （主要做动画效果调优）

https://juejin.cn/post/7181356579709517861

schedule 调度 scheduler 小顶堆数据结构
render 协调 reconciler  fiber 深度优先遍历（dfs）
commit 渲染  render ReactDOM ReactArt

lane模型 优先级模型 了解二进制掩码

ClassComponent     面向对象
FunctionComponent  函数式（编译时优化，useMemo useCallback）

hooks 代数效应

event loop
message channel 宏任务 微任务


# 理念
快速响应
- CPU的瓶颈：当遇到大计算量的操作或者设备性能不足使页面掉帧，导致卡顿。
    - 时间切片：预留5ms给react
- IO的瓶颈：发送网络请求后，由于需要等待数据返回才能进一步操作导致不能快速响应。
    - suspense + useDeferredValue  同步的更新编程可中断的异步更新
主流浏览器刷新频率为 60Hz，即每（1000ms / 60Hz）16.6ms 浏览器刷新一次。
JS可以操作DOM，GUI渲染线程与JS线程是互斥的。所以JS脚本执行和浏览器布局、绘制不能同时执行。

## React15
React15 架构可以分为两层：

Reconciler（协调器）—— 负责找出变化的组件
Renderer（渲染器）—— 负责将变化的组件渲染到页面上


